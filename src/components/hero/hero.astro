---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';
import imageSrc from '../../assets/blog-thumb-1.jpg'


const block = Astro.props;
// const images = import.meta.glob<{ default: ImageMetadata }>(
//   '/src/assets/*.{jpeg,jpg,png,gif}'
// );
// if (!images[block.imagePath])
//   throw new Error(
//     `"${block.imagePath}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`
//   );
let src = imageSrc
if(ENV_BOOKSHOP_LIVE){
  src = src.replace(/^\./,'/_cloudcannon');
}
---

<div class="card">
  <Image src={src} alt='An alt for now' />
</div>
